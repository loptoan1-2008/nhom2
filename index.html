<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªôi Tr·∫°i Truy·ªÅn Th·ªëng 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800&family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body onclick="initAudio()">

    <div id="welcome-overlay">
        <h1>H·ªòI TR·∫†I TRUY·ªÄN TH·ªêNG 2026<br><span style="font-size: 1.5rem; font-family: 'Pacifico'">S·∫Øt Son H·ªìn Vi·ªát</span></h1>
    </div>

    <canvas id="main-canvas"></canvas>
    <audio id="bg-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <header>
        <h1>H·ªòI TR·∫†I 2026</h1>
        <p>S·∫Øt Son H·ªìn Vi·ªát</p>
    </header>

    <div class="container">
        <div class="session-card morning-bg" onclick="toggleGallery('g1', event)">
            <h2>‚òÄÔ∏è BU·ªîI S√ÅNG: R·ª∞C R·ª† KHAI M·∫†C</h2>
            <h4>Bu·ªïi s√°ng t·∫°i h·ªôi tr·∫°i tr√†n ƒë·∫ßy kh√¥ng kh√≠ h·ª©ng kh·ªüi. C√°c l·ªõp c√πng nhau kh·ªüi ƒë·ªông v·ªõi nh·ªØng tr√≤ ch∆°i t·∫≠p th·ªÉ nh·∫π nh√†ng, r√®n luy·ªán s·ª± nhanh nh·∫πn, ph·ªëi h·ª£p v√† tinh th·∫ßn ƒë·ªìng ƒë·ªôi. Kh√¥ng kh√≠ nh·ªôn nh·ªãp c√≤n lan t·ªèa qua c√°c ho·∫°t ƒë·ªông chu·∫©n b·ªã tr·∫°i, d·ª±ng l·ªÅu, trang tr√≠ khu v·ª±c v√† s·∫Øp x·∫øp d·ª•ng c·ª• cho c√°c tr√≤ ch∆°i bu·ªïi chi·ªÅu. ƒê√¢y c≈©ng l√† th·ªùi gian ƒë·ªÉ c√°c th√†nh vi√™n tr√≤ chuy·ªán, l√†m quen v√† x√¢y d·ª±ng s·ª± g·∫Øn k·∫øt gi·ªØa c√°c l·ªõp. Bu·ªïi s√°ng ch√≠nh l√† m·ªü ƒë·∫ßu ho√†n h·∫£o, gi√∫p m·ªçi ng∆∞·ªùi tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng, s·∫µn s√†ng h√≤a m√¨nh v√†o nh·ªØng th·ª≠ th√°ch, tr√≤ ch∆°i v√† tr·∫£i nghi·ªám ƒë√°ng nh·ªõ trong c·∫£ ng√†y h·ªôi tr·∫°i.</h4>
            <div id="tug-of-war-game" onclick="event.stopPropagation()">
                <div class="game-stats">
                    <span>‚è±Ô∏è: <b id="timer">60</b>s</span>
                    <span>Th·∫ø tr·∫≠n: <b id="click-count">0</b>/1200</span>
                </div>
                
                <div class="rope-track">
                    <div id="main-rope" class="rope">
                        <div class="rope-texture"></div>
                        <div id="red-ribbon" class="ribbon"></div>
                    </div>
                    <div class="marker start">M·∫§T TR·∫†I</div>
                    <div class="marker center">H√íA</div>
                    <div class="marker end">TH·∫ÆNG</div>
                </div>

                <button id="pull-btn" onclick="handlePull()">K√âO!!!</button>
                <button id="reset-btn" onclick="resetGame()" style="display:none; background:#555;">TH·ª¨ L·∫†I</button>
                <p id="game-message"></p>

                <div class="gallery-trigger" onclick="toggleGalleryFromBtn('g1', this, event)">
                    <p>Xem album ·∫£nh bu·ªïi s√°ng</p>
                    <span class="toggle-arrow">‚ñº</span>
                </div>
            </div>

            <div id="g1" class="gallery-container">
                <div class="polaroid" style="--r: -2deg">
                    <img src="0bb4d6f146751456d758c607c0e209b8.jpeg">
                    <p class="polaroid-caption">Trang tr√≠ tr·∫°i</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="44a9ffdf24dd61a75307e03a0d9e805f.jpeg">
                    <p class="polaroid-caption">Hoa qu·∫£ C·∫ßn Th∆°</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="74d24bddb012b5d6ee347a9c25c03327.jpeg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="613685536_122227530350248860_3363879032656172626_n.jpg">
                    <p class="polaroid-caption">Ng·ªß tr∆∞a</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="613896015_122227529504248860_8963270093320101659_n.jpg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="614972264_122227530386248860_7092676547960999978_n.jpg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="614981576_122227532060248860_1210385732687095834_n.jpg">
                    <p class="polaroid-caption">STOP</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="615095428_122227528940248860_5559638043682025125_n.jpg">
                    <p class="polaroid-caption">HEHE</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="615140834_122227532210248860_1201972756485035397_n.jpg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>
                
                <div class="polaroid" style="--r: -2deg">
                    <img src="615162485_122227532132248860_2350353458236239936_n.jpg">
                    <p class="polaroid-caption">Ch∆°i puzzle</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="615163331_122227529666248860_1836130146030253083_n.jpg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="615174780_122227530236248860_5879110997159175693_n.jpg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="615255132_122227530188248860_1240410778605021200_n.jpg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="615283433_122227529456248860_3349375354301179970_n.jpg">
                    <p class="polaroid-caption">Th·ª≠ ƒë·ªì</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>
                
                <div class="polaroid" style="--r: -2deg">
                    <img src="615328762_122227530302248860_9086950632103425145_n.jpg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="615829115_122227529474248860_7189113984331391106_n.jpg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -2deg">
                    <img src="615406727_122227530368248860_3567383332900049794_n.jpg">
                    <p class="polaroid-caption">B·ªØa tr∆∞a vui v·∫ª</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>  
                
            </div>
        </div>

        <div class="session-card noon-bg" onclick="toggleGallery('g2', event)">
            <h2>üç¥ BU·ªîI CHI·ªÄU: VUI CH∆†I TR·∫†I</h2>
            <h4> Bu·ªïi chi·ªÅu trong h·ªôi tr·∫°i truy·ªÅn th·ªëng l√† kho·∫£ng th·ªùi gian s√¥i n·ªïi nh·∫•t, n∆°i c√°c kh·ªëi 10, 11, 12 c√πng h√≤a m√¨nh v√†o nh·ªØng tr√≤ ch∆°i t·∫≠p th·ªÉ v√† kh√¥ng kh√≠ g·∫Øn k·∫øt. Kh·ªëi 10 tham gia tr√≤ ch∆°i ‚ÄúNh·ªãp B∆∞·ªõc ƒêo√†n K·∫øt‚Äù, ƒë·ªÅ cao s·ª± tin t∆∞·ªüng, ph·ªëi h·ª£p v√† tinh th·∫ßn ƒë·ªìng ƒë·ªôi khi c√πng v∆∞·ª£t m√™ cung, thu th·∫≠p v√† gh√©p m·∫£nh. Kh·ªëi 11 v·ªõi ‚ÄúNhanh tay, nhanh m·∫Øt, nhanh tr√≠‚Äù gi√∫p r√®n luy·ªán s·ª± kh√©o l√©o, t·∫≠p trung v√† tr√≠ tu·ªá t·∫≠p th·ªÉ. Kh·ªëi 12 th·ª≠ th√°ch b·ªÅn b·ªâ trong ‚ÄúB·∫°ch tu·ªôc truy·ªÅn v√°n‚Äù, th·ªÉ hi·ªán √Ω ch√≠ v√† tinh th·∫ßn d√¨u d·∫Øt ƒë√†n em. Song song v·ªõi ƒë√≥, ho·∫°t ƒë·ªông b√°n ƒë·ªì ƒÉn gi·ªØa c√°c l·ªõp di·ªÖn ra nh·ªôn nh·ªãp, t·∫°o n√™n s·ª± giao l∆∞u, s·∫ª chia v√† tinh th·∫ßn t·∫≠p th·ªÉ r√µ n√©t. T·∫•t c·∫£ nh·ªØng ho·∫°t ƒë·ªông ·∫•y ƒë√£ g√≥p ph·∫ßn t·∫°o n√™n m·ªôt bu·ªïi chi·ªÅu h·ªôi tr·∫°i tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng, ƒë·ªÉ l·∫°i k√Ω ·ª©c ƒë·∫πp v√† th·∫Øt ch·∫∑t h∆°n n·ªØa t√¨nh ƒëo√†n k·∫øt gi·ªØa c√°c th·∫ø h·ªá h·ªçc sinh Chuy√™n L√™ Qu√Ω ƒê√¥n.</h4>

            <div id="candy-crush-game" onclick="event.stopPropagation()">
                <div class="game-header">
                    <span>T√≠ch l≈©y: <b id="score">0</b>/1000üíµ</span>
                    <button onclick="resetPuzzle()" class="btn-reset">Ch∆°i l·∫°i</button>
                </div>
                
                <div id="grid" class="puzzle-grid"></div>
                
                <div id="win-message" style="display:none; text-align:center; margin-top:10px;">
                    <h3 style="color: #ffeb3b; font-family: 'Pacifico';">üéâ Ch√∫c m·ª´ng! B·∫°n ƒë√£ ki·∫øm ƒë·ªß 1000 xu ƒë·ªÉ ƒÉn s·∫≠p h·ªôi tr·∫°i! üç¢</h3>
                </div>

                <div class="gallery-trigger" onclick="toggleGalleryFromBtn('g2', this, event)">
                    <p>Kh√°m ph√° kho ·∫£nh bu·ªïi chi·ªÅu</p>
                    <span class="toggle-arrow">‚ñº</span>
                </div>
            </div>

            <div id="g2" class="gallery-container">
                <div class="polaroid" style="--r: 1deg">
                    <img src="6bf25ffcf92afb92b26cbc74ccaf6a77.jpeg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>
                
                <div class="polaroid" style="--r: 1deg">
                    <img src="615415405_122227529990248860_5236265921319222669_n.jpg">
                    <p class="polaroid-caption">Tui l√† robot</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: 1deg">
                    <img src="615253741_122227530422248860_8865133414233971337_n.jpg">
                    <p class="polaroid-caption">B·ªã tha h√≥a</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: 1deg">
                    <img src="615322716_122227530338248860_2931509261706582235_n.jpg">
                    <p class="polaroid-caption">L·ªùi l·ªó kh√¥ng quan tr·ªçng</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: 1deg">
                    <img src="b97d06ac322c5e0ca7339df0850ea624.jpeg">
                    <p class="polaroid-caption">Mlem</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="session-card night-bg" onclick="toggleGallery('g3', event)">
            <h2>üî• BU·ªîI T·ªêI: ƒê√äM L·ª¨A THI√äNG</h2>
            <h4> D∆∞·ªõi √°nh ƒë√®n r·ª±c r·ª° c·ªßa h·ªôi tr·∫°i, ch√∫ng t√¥i c√πng nhau t·∫°o n√™n nh·ªØng k·ª∑ ni·ªám kh√≥ qu√™n. Nh·ªØng v√°n ƒë√°nh b√†i di·ªÖn ra s√¥i n·ªïi, ti·∫øng c∆∞·ªùi vang l√™n m·ªói khi c√≥ ng∆∞·ªùi ‚Äúthua ƒëau‚Äù. Tr√≤ ch∆°i ma s√≥i c√†ng l√†m kh√¥ng kh√≠ th√™m h·ªìi h·ªôp, ai c≈©ng c·ªë g·∫Øng che gi·∫•u th√¢n ph·∫≠n, tranh lu·∫≠n n√°o nhi·ªát ƒë·∫øn t·∫≠n khuya. B√™n c·∫°nh ƒë√≥, h∆°n m∆∞·ªùi con g√† n∆∞·ªõng v√†ng ∆∞∆°m ƒë∆∞·ª£c b√†y ra, m√πi th∆°m lan t·ªèa kh·∫Øp khu tr·∫°i, m·ªçi ng∆∞·ªùi qu√¢y qu·∫ßn v·ª´a ƒÉn v·ª´a tr√≤ chuy·ªán r√¥m r·∫£. Khi ƒë√™m xu·ªëng, c·∫£ nh√≥m c√πng qu·∫©y h·∫øt m√¨nh v·ªõi c√°c ti·∫øt m·ª•c vƒÉn ngh·ªá, nh·∫£y m√∫a kh√¥ng bi·∫øt m·ªát. Cao tr√†o nh·∫•t l√† m√†n t·∫°t n∆∞·ªõc v√†o nhau, ai c≈©ng ∆∞·ªõt s≈©ng nh∆∞ng ƒë·∫ßy ti·∫øng c∆∞·ªùi. T·∫•t c·∫£ ƒë√£ t·∫°o n√™n m·ªôt h·ªôi tr·∫°i tr·∫ª trung, g·∫Øn k·∫øt v√† tr√†n ng·∫≠p ni·ªÅm vui.</h4>
            
            <div id="campfire-activity" onclick="event.stopPropagation()">
                <p id="fire-message">Di chuy·ªÉn ƒëu·ªëc v√†o c·ªßi ƒë·ªÉ ƒë·ªët l·ª≠a</p>

                <div id="torch-container">
                    <div id="torch">
                        <div class="torch-fire"></div>
                    </div>
                </div>
                
                <div id="wood-pile-area">
                    <div id="campfire-flame-container" style="display:none;">
                        <div class="flame-layer red"></div>
                        <div class="flame-layer orange"></div>
                        <div class="flame-layer yellow"></div>
                        <div class="flame-layer white"></div>
                        <div class="fire-particles">
                            <div class="particle p1"></div>
                            <div class="particle p2"></div>
                            <div class="particle p3"></div>
                            <div class="particle p4"></div>
                            <div class="particle p5"></div>
                        </div>
                    </div>

                    <div id="wood-pile">
                        <div class="log l1"></div>
                        <div class="log l2"></div>
                        <div class="log l3"></div>
                        <div class="log l4"></div>
                    </div>
                </div>
            </div>

            <div class="gallery-extension" style="display: flex; justify-content: center; padding: 20px 0; margin-top: -10px;">
                <div class="gallery-trigger" onclick="toggleGalleryFromBtn('g3', this, event)" 
                    style="background: rgba(255,255,255,0.1); 
                        padding: 12px 25px; 
                        border-radius: 20px; 
                        text-align: center; 
                        cursor: pointer; 
                        border: 1px solid rgba(255,255,255,0.2);
                        backdrop-filter: blur(5px);">
                    <span style="font-size: 0.8rem; font-weight: bold; color: white; display: block; letter-spacing: 1px;">
                        XEM KHO·∫¢NH KH·∫ÆC ƒê√äM L·ª¨A TR·∫†I
                    </span>
                    <span class="toggle-arrow" style="color: white; display: inline-block; transition: 0.3s; font-size: 1.2rem;">‚ñº</span>
                </div>
            </div>

            <div id="g3" class="gallery-container">
                <div class="polaroid" style="--r: -3deg">
                    <img src="615137842_122227530032248860_4062973565668655733_n.jpg">
                    <p class="polaroid-caption">ƒê√™m r√©t chung chƒÉn th√†nh ƒë√¥i tri k·ª∑</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -3deg">
                    <img src="615154769_122227530170248860_8322010967538427542_n.jpg">
                    <p class="polaroid-caption">hi</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -3deg">
                    <img src="615211108_122227530224248860_6977001467715503019_n.jpg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -3deg">
                    <img src="615414960_122227530020248860_3207087053835895182_n.jpg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -3deg">
                    <img src="615420224_122227529924248860_188136769962336766_n.jpg">
                    <p class="polaroid-caption">Kh√≤ kh√≤</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -3deg">
                    <img src="615432873_122227529378248860_3468584095278009674_n.jpg">
                    <p class="polaroid-caption">ƒê√¥ng ƒë·ªß l·ªõp</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -3deg">
                    <img src="615444823_122227530200248860_3479296458144082550_n.jpg">
                    <p class="polaroid-caption">VƒÉn ngh·ªá ch√°y</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -3deg">
                    <img src="616044318_122227532786248860_2640929177670273050_n.jpg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -3deg">
                    <img src="att.8Eet8XkKIaJQ__63kFRXsmhigBVhBLqRF4rFQqU4J7s.jpg">
                    <p class="polaroid-caption">peak qu√°</p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -3deg">
                    <img src="att.EpwLH9hEdlzA9al8aq6tLl2tm1j91fQ5gVLZjS1jDjs.jpg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>

                <div class="polaroid" style="--r: -3deg">
                    <img src="b581321d69509d0816a1f482dffba8a7.jpeg">
                    <p class="polaroid-caption"></p>
                    <div class="fire-react" onclick="dropFire(this, event)">
                        <span class="fire-icon">üî•</span>
                        <span class="fire-count">0</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="comment-section">
            <h3>L∆∞u b√∫t ƒëi·ªán t·ª≠ üìù</h3>
            <textarea id="comment-input" rows="3" placeholder="G·ª≠i l·ªùi ch√∫c ƒë·∫øn h·ªôi tr·∫°i..."></textarea>
            <button class="btn-send" onclick="addComment()">G·ª≠i l·ªùi ch√∫c</button>
            <div id="comment-list"></div>
            <a id="show-more" style="display:none; cursor:pointer; color:var(--accent); margin-top:15px; font-weight:bold;" onclick="renderComments(true)">Xem th√™m...</a>
        </div>

        <div class="session-card cinema-bg">
            <div class="cinema-header">
                <h2>üé¨ R·∫†P CHI·∫æU B√ìNG K·ª∂ NI·ªÜM</h2>
            </div>
            <div id="cinema-theater" style="display:flex;flex-direction:column;align-items:center;width:100%;">
                <div class="main-screen" id="theater-screen" style="position:relative;width:100%;max-width:800px;aspect-ratio:16/9;background:#000;overflow:hidden;border:10px solid #222;display:flex;justify-content:center;align-items:center;">
                    <div class="curtain-left" style="position:absolute;top:0;left:0;width:50%;height:100%;background:#800000;z-index:10;transition:transform 1.5s ease-in-out;border-right:1px solid #4d0000;background-image:repeating-linear-gradient(to right,#800000,#800000 10px,#a52a2a 20px);"></div>
                    <div class="curtain-right" style="position:absolute;top:0;right:0;width:50%;height:100%;background:#800000;z-index:10;transition:transform 1.5s ease-in-out;border-left:1px solid #4d0000;background-image:repeating-linear-gradient(to right,#800000,#800000 10px,#a52a2a 20px);"></div>
                    <div class="video-wrapper" style="width:100%;height:100%;z-index:5;">
                        <video id="cinema-player" controls style="width:100%;height:100%;object-fit:contain;"
                            onplay="document.getElementById('bg-music').pause();document.getElementById('theater-screen').classList.add('open-curtains');"
                            onpause="document.getElementById('bg-music').play();"
                            onended="document.getElementById('bg-music').play();">
                            <source src="0CB141B3-B036-4452-BC85-98381598296F.mov" type="video/mp4">
                        </video>
                    </div>
                </div>

                <div class="film-strip-container" style="width:100%;overflow-x:auto;margin-top:20px;padding:10px 0;">
                    <div class="film-strip" style="display:flex;gap:15px;padding:0 20px;width:max-content;">
                        <div class="film-item" onclick="selectVid('0CB141B3-B036-4452-BC85-98381598296F.mov', this)" style="flex:0 0 120px;cursor:pointer;">
                            <div class="sprocket-holes"></div>
                            <div style="width:100%;height:60px;background:#333;display:flex;align-items:center;justify-content:center;color:#fff;font-size:10px;border:1px solid #555;">PHIM 1</div>
                            <div class="sprocket-holes"></div>
                        </div>
                        <div class="film-item" onclick="selectVid('2CD2C467-4181-4378-A450-2E8A19E87C67.mov', this)" style="flex:0 0 120px;cursor:pointer;">
                            <div class="sprocket-holes"></div>
                            <div style="width:100%;height:60px;background:#333;display:flex;align-items:center;justify-content:center;color:#fff;font-size:10px;border:1px solid #555;">PHIM 2</div>
                            <div class="sprocket-holes"></div>
                        </div>
                        <div class="film-item" onclick="selectVid('4BB09D36-DD16-4DFD-AAD7-FB2F990F214D.mov', this)" style="flex:0 0 120px;cursor:pointer;">
                            <div class="sprocket-holes"></div>
                            <div style="width:100%;height:60px;background:#333;display:flex;align-items:center;justify-content:center;color:#fff;font-size:10px;border:1px solid #555;">PHIM 3</div>
                            <div class="sprocket-holes"></div>
                        </div>
                        <div class="film-item" onclick="selectVid('31E2B0D0-D1E0-4F4C-AC91-CD6AD320D39C.mov', this)" style="flex:0 0 120px;cursor:pointer;">
                            <div class="sprocket-holes"></div>
                            <div style="width:100%;height:60px;background:#333;display:flex;align-items:center;justify-content:center;color:#fff;font-size:10px;border:1px solid #555;">PHIM 4</div>
                            <div class="sprocket-holes"></div>
                        </div>
                        <div class="film-item" onclick="selectVid('61D1D8FD-2368-4B49-9222-D1E76EE6D125.mov', this)" style="flex:0 0 120px;cursor:pointer;">
                            <div class="sprocket-holes"></div>
                            <div style="width:100%;height:60px;background:#333;display:flex;align-items:center;justify-content:center;color:#fff;font-size:10px;border:1px solid #555;">PHIM 5</div>
                            <div class="sprocket-holes"></div>
                        </div>
                        <div class="film-item" onclick="selectVid('175F6FD7-A3E4-4A5C-9C32-8BE42E6B3166.mov', this)" style="flex:0 0 120px;cursor:pointer;">
                            <div class="sprocket-holes"></div>
                            <div style="width:100%;height:60px;background:#333;display:flex;align-items:center;justify-content:center;color:#fff;font-size:10px;border:1px solid #555;">PHIM 6</div>
                            <div class="sprocket-holes"></div>
                        </div>
                        <div class="film-item" onclick="selectVid('8505D88C-BDAB-4841-AD11-7D967990AC63.mov', this)" style="flex:0 0 120px;cursor:pointer;">
                            <div class="sprocket-holes"></div>
                            <div style="width:100%;height:60px;background:#333;display:flex;align-items:center;justify-content:center;color:#fff;font-size:10px;border:1px solid #555;">PHIM 7</div>
                            <div class="sprocket-holes"></div>
                        </div>
                        <div class="film-item" onclick="selectVid('415193C0-E289-4F60-99ED-4100CB42495A.mov', this)" style="flex:0 0 120px;cursor:pointer;">
                            <div class="sprocket-holes"></div>
                            <div style="width:100%;height:60px;background:#333;display:flex;align-items:center;justify-content:center;color:#fff;font-size:10px;border:1px solid #555;">PHIM 8</div>
                            <div class="sprocket-holes"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>V·ªÅ T√°c Gi·∫£</h4>
                <p>Trang b√°o t∆∞·ªùng s·ªë ƒë∆∞·ª£c th·ª±c hi·ªán b·ªüi:</p>
                <span class="author-name">Nh√≥m 2</span>
                <p style="margin-top: 10px;">L·ªõp: 12T1 - Ni√™n kh√≥a 2023-2026<br>Tr∆∞·ªùng THPT Chuy√™n L√™ Qu√Ω ƒê√¥n</p>
            </div>
            <div class="footer-section">
                <h4>Th√¥ng ƒêi·ªáp</h4>
                <p>"H·ªôi tr·∫°i kh√¥ng ch·ªâ l√† nh·ªØng cu·ªôc vui, ƒë√≥ l√† n∆°i l∆∞u gi·ªØ thanh xu√¢n v√† tinh th·∫ßn ƒëo√†n k·∫øt."</p>
            </div>
            <div class="footer-section">
                <h4>Li√™n H·ªá</h4>
                <p>Email: hieuhotxoan191108@gmail.com<br>S·ªë ƒëi·ªán tho·∫°i: 0123 456 789</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 12 To√°n 1 (23-26) - Nh√≥m 2</p>
        </div>
    </footer>

    <script>
        let started = false;
        function initAudio() {
            if (started) return;
            started = true;
            document.getElementById('welcome-overlay').style.opacity = '0';
            setTimeout(() => document.getElementById('welcome-overlay').style.display = 'none', 1000);
            document.getElementById('bg-music').play();
            startFireworks();
        }

        function toggleGallery(id, event) {
            if (event.target.closest('.polaroid')) return;
            const g = document.getElementById(id);
            g.style.display = (g.style.display === 'grid') ? 'none' : 'grid';
        }

        function dropFire(el, event) {
            event.stopPropagation();
            el.classList.toggle('active');
            let countEl = el.querySelector('.fire-count');
            let currentCount = parseInt(countEl.innerText);
            el.classList.contains('active') ? countEl.innerText = currentCount + 1 : countEl.innerText = Math.max(0, currentCount - 1);
        }

        const canvas = document.getElementById('main-canvas');
        const ctx = canvas.getContext('2d');
        let fw = [], stars = [];

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.onresize = resize;
        resize();

        for(let i=0; i<150; i++) {
            stars.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, size: Math.random() * 2, opacity: Math.random() });
        }

        function startFireworks() {
            setInterval(createFirework, 800);
            animate();
        }

        function createFirework() {
            const x = Math.random() * canvas.width;
            const y = canvas.height;
            const targetY = Math.random() * (canvas.height / 2);
            const color = `hsl(${Math.random() * 360}, 100%, 60%)`;
            fw.push({ x, y, targetY, color, particles: [], exploded: false });
        }

        function animate() {
            ctx.fillStyle = 'rgba(2, 6, 23, 0.2)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            stars.forEach(s => {
                ctx.fillStyle = `rgba(255, 255, 255, ${Math.abs(Math.sin(Date.now()*0.001 + s.opacity*10))})`;
                ctx.beginPath(); ctx.arc(s.x, s.y, s.size, 0, Math.PI*2); ctx.fill();
            });
            fw.forEach((f, idx) => {
                if (!f.exploded) {
                    f.y -= 10;
                    ctx.fillStyle = f.color;
                    ctx.fillRect(f.x, f.y, 3, 10);
                    if (f.y <= f.targetY) {
                        f.exploded = true;
                        for(let i=0; i<40; i++) f.particles.push({ x: f.x, y: f.y, dx: (Math.random()-0.5)*10, dy: (Math.random()-0.5)*10, life: 50 });
                    }
                } else {
                    f.particles.forEach((p, pIdx) => {
                        p.x += p.dx; p.y += p.dy; p.life--;
                        ctx.fillStyle = f.color; ctx.globalAlpha = p.life/50;
                        ctx.beginPath(); ctx.arc(p.x, p.y, 2, 0, Math.PI*2); ctx.fill();
                        ctx.globalAlpha = 1;
                        if(p.life <= 0) f.particles.splice(pIdx, 1);
                    });
                    if(f.particles.length === 0) fw.splice(idx, 1);
                }
            });
            requestAnimationFrame(animate);
        }

        let comments = [];
        function addComment() {
            const input = document.getElementById('comment-input');
            if(!input.value.trim()) return;
            comments.unshift({text: input.value, time: new Date().toLocaleTimeString()});
            input.value = '';
            renderComments();
        }

        function renderComments(all = false) {
            const list = document.getElementById('comment-list');
            const showMore = document.getElementById('show-more');
            list.innerHTML = '';
            const data = all ? comments : comments.slice(0, 5);
            data.forEach(c => {
                const div = document.createElement('div');
                div.className = 'comment-item';
                div.innerHTML = `<b>B·∫°n b√®:</b><br>${c.text}<br><small style="color:#aaa">${c.time}</small>`;
                list.appendChild(div);
            });
            showMore.style.display = (comments.length > 5 && !all) ? 'block' : 'none';
        }
        
        let clicks = 0;
        let timeLeft = 60;
        let gameActive = false;
        let timerId = null;
        let decayId = null;

        function handlePull() {
            if (!gameActive && timeLeft === 60) {
                gameActive = true;
                timerId = setInterval(() => {
                    timeLeft--;
                    document.getElementById('timer').innerText = timeLeft;
                    if (timeLeft <= 0) endGame(false);
                }, 1000);

                decayId = setInterval(() => {
                    if (gameActive) {
                        clicks -= 1.8; // ƒê·ªëi th·ªß k√©o li√™n t·ª•c
                        updateUI();
                        if (clicks <= -120) endGame(false); // Thua n·∫øu b·ªã k√©o qu√° s√¢u v·ªÅ b√™n tr√°i
                    }
                }, 100);
            }

            if (gameActive) {
                clicks += 6; // L·ª±c k√©o c·ªßa b·∫°n
                updateUI();
                if (clicks >= 1200) endGame(true); // Th·∫Øng ·ªü m·ªëc 200
            }
        }

        function updateUI() {
            const rope = document.getElementById('main-rope');
            const countDisplay = document.getElementById('click-count');
            
            countDisplay.innerText = Math.floor(clicks);
            
            // T√≠nh to√°n v·ªã tr√≠ 'left' c·ªßa s·ª£i d√¢y
            // C√¢n b·∫±ng (0ƒë) -> left: -50%
            // Th·∫Øng (200ƒë) -> left: 0%
            // Thua (-120ƒë) -> left: -80%
            let basePos = -50;
            let offset = (clicks / 1200) * 50; 
            let finalPos = basePos + offset;
            
            rope.style.left = finalPos + "%";

            // Hi·ªáu ·ª©ng rung khi k√©o
            rope.classList.add('shake-rope');
            setTimeout(() => rope.classList.remove('shake-rope'), 100);
        }

        function endGame(isWin) {
            gameActive = false;
            clearInterval(timerId);
            clearInterval(decayId);
            const msg = document.getElementById('game-message');
            msg.innerText = isWin ? "üéâ B·∫†N ƒê√É K√âO S·∫¨P TR·∫†I ƒê·ªêI TH·ª¶!" : "üíÄ B·∫†N ƒê√É B·ªä K√âO TU·ªòT ƒêI R·ªíI!";
            msg.style.color = isWin ? "#4aff4a" : "#ff4d4d";
            document.getElementById('pull-btn').style.display = 'none';
            document.getElementById('reset-btn').style.display = 'inline-block';
        }

        function resetGame() {
            clicks = 0; timeLeft = 60; gameActive = false;
            document.getElementById('timer').innerText = "60";
            updateUI();
            document.getElementById('game-message').innerText = "";
            document.getElementById('pull-btn').style.display = 'inline-block';
            document.getElementById('reset-btn').style.display = 'none';
        }

        const torch = document.getElementById('torch');
        const activity = document.getElementById('campfire-activity');
        const flameContainer = document.getElementById('campfire-flame-container');
        const msg = document.getElementById('fire-message');
        const wood = document.getElementById('wood-pile');

        let isDragging = false;
        let burnTime = 0;
        let burnInterval = null;

        torch.addEventListener('mousedown', () => { isDragging = true; });
        window.addEventListener('mouseup', () => { 
            isDragging = false; 
            clearInterval(burnInterval);
            burnInterval = null;
            burnTime = 0;
        });

        window.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            
            const rect = activity.getBoundingClientRect();
            let x = e.clientX - rect.left;
            let y = e.clientY - rect.top;
            
            // Gi·ªõi h·∫°n trong khung
            x = Math.max(20, Math.min(rect.width - 20, x));
            y = Math.max(20, Math.min(rect.height - 20, y));
            
            torch.style.left = (x - 10) + 'px';
            torch.style.top = (y - 50) + 'px';
            
            // Ki·ªÉm tra ch·∫°m c·ªßi
            const tRect = torch.getBoundingClientRect();
            const wRect = wood.getBoundingClientRect();
            
            if(!(tRect.right < wRect.left || tRect.left > wRect.right || 
                tRect.bottom < wRect.top || tRect.top > wRect.bottom)) {
                if(!burnInterval && flameContainer.style.display === 'none') {
                    burnInterval = setInterval(() => {
                        burnTime++;
                        msg.innerText = `üî• ƒêang nh√≥m l·ª≠a: ${burnTime}s`;
                        if(burnTime >= 5) {
                            flameContainer.style.display = 'block';
                            msg.innerText = "L·ª¨A TR·∫†I ƒê√É B√ôNG CH√ÅY! üî•";
                            
                            // Th√™m logic: C·ªßi bi·∫øn m·∫•t
                            wood.classList.add('burned-out'); 
                            
                            // ·∫®n ƒëu·ªëc
                            torch.style.display = 'none';
                            
                            clearInterval(burnInterval);
                        }
                    }, 1000);
                }
            } else {
                clearInterval(burnInterval);
                burnInterval = null;
                burnTime = 0;
                if(flameContainer.style.display === 'none') msg.innerText = "ƒê∆∞a ƒëu·ªëc v√†o c·ªßi ƒë·ªÉ ƒë·ªët";
            }
        });

        const gridDisplay = document.getElementById('grid');
        const scoreDisplay = document.getElementById('score');
        const winMsg = document.getElementById('win-message');
        const width = 6;
        // B·ªô icon ƒë√£ s·ª≠a l·ªói hi·ªÉn th·ªã
        const items = ['üç¢', 'ü•§', 'üå≠', 'üçó', 'üç¶', 'üç©']; 
        let squares = [];
        let score = 0;
        let isGameOver = false;

        function createBoard() {
            isGameOver = false;
            winMsg.style.display = 'none';
            gridDisplay.style.opacity = '1';
            gridDisplay.innerHTML = '';
            squares = [];
            
            for (let i = 0; i < width * width; i++) {
                const square = document.createElement('div');
                square.setAttribute('draggable', true);
                square.setAttribute('id', i);
                square.className = 'cell';
                let randomItem = Math.floor(Math.random() * items.length);
                square.innerHTML = items[randomItem];
                gridDisplay.appendChild(square);
                squares.push(square);
            }
            addEvents();
        }

        function addEvents() {
            squares.forEach(square => {
                square.addEventListener('dragstart', dragStart);
                square.addEventListener('dragover', e => e.preventDefault());
                square.addEventListener('drop', dragDrop);
            });
        }

        let squareIdBeingDragged, squareIdBeingReplaced;
        let itemBeingDragged, itemBeingReplaced;

        function dragStart() {
            if(isGameOver) return;
            itemBeingDragged = this.innerHTML;
            squareIdBeingDragged = parseInt(this.id);
        }

        function dragDrop() {
            if(isGameOver) return;
            itemBeingReplaced = this.innerHTML;
            squareIdBeingReplaced = parseInt(this.id);
            
            // Ki·ªÉm tra kho·∫£ng c√°ch (ch·ªâ cho ph√©p ƒë·ªïi √¥ c·∫°nh b√™n)
            const validMoves = [
                squareIdBeingDragged - 1, 
                squareIdBeingDragged + 1, 
                squareIdBeingDragged - width, 
                squareIdBeingDragged + width
            ];

            if (validMoves.includes(squareIdBeingReplaced)) {
                this.innerHTML = itemBeingDragged;
                squares[squareIdBeingDragged].innerHTML = itemBeingReplaced;
                checkMatches();
            }
        }

        function checkMatches() {
            // Check h√†ng ngang
            for (let i = 0; i < 34; i++) {
                let rowOfThree = [i, i + 1, i + 2];
                let decidedItem = squares[i].innerHTML;
                // Ch·∫∑n l·ªói check tr√†n h√†ng
                if (i % width > 3) continue; 

                if (rowOfThree.every(index => squares[index].innerHTML === decidedItem)) {
                    addScore(30); // M·ªói b·ªô 3 ƒë∆∞·ª£c 30 xu
                    rowOfThree.forEach(index => {
                        squares[index].innerHTML = items[Math.floor(Math.random() * items.length)];
                    });
                }
            }
            // Check h√†ng d·ªçc
            for (let i = 0; i < 24; i++) {
                let colOfThree = [i, i + width, i + width * 2];
                let decidedItem = squares[i].innerHTML;

                if (colOfThree.every(index => squares[index].innerHTML === decidedItem)) {
                    addScore(30);
                    colOfThree.forEach(index => {
                        squares[index].innerHTML = items[Math.floor(Math.random() * items.length)];
                    });
                }
            }
        }

        function addScore(amount) {
            if(isGameOver) return;
            score += amount;
            scoreDisplay.innerHTML = score;
            
            // ƒêi·ªÅu ki·ªán chi·∫øn th·∫Øng
            if (score >= 1000) {
                victory();
            }
        }

        function victory() {
            isGameOver = true;
            winMsg.style.display = 'block';
            gridDisplay.style.opacity = '0.5';
            gridDisplay.style.pointerEvents = 'none';
            // Hi·ªáu ·ª©ng ph√°o hoa c√≥ th·ªÉ g·ªçi t·ª´ h√†m startFireworks() c≈© c·ªßa b·∫°n
            if(typeof startFireworks === "function") startFireworks();
        }

        function resetPuzzle() {
            score = 0;
            scoreDisplay.innerHTML = 0;
            createBoard();
        }

        createBoard();
        // T·ª± ƒë·ªông ki·ªÉm tra li√™n t·ª•c c√°c b·ªô 3 ng·∫´u nhi√™n khi m·ªõi t·∫°o b·∫£ng
        setInterval(checkMatches, 500);

        function playVideo(youtubeId, element) {
            const player = document.getElementById('cinema-player');
            
            // ƒê·ªïi link video
            player.src = `https://www.youtube.com/embed/${youtubeId}?autoplay=1`;
            
            // C·∫≠p nh·∫≠t tr·∫°ng th√°i active cho danh s√°ch
            document.querySelectorAll('.film-item').forEach(item => {
                item.classList.remove('active');
            });
            element.classList.add('active');
            
            // Hi·ªáu ·ª©ng cu·ªôn m√†n h√¨nh l√™n ƒë·∫ßu r·∫°p phim
            document.querySelector('.main-screen').scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function handleFiles(files) {
            const list = document.getElementById('video-list');
            
            Array.from(files).forEach(file => {
                const fileURL = URL.createObjectURL(file);
                const item = document.createElement('div');
                item.className = 'film-item';
                
                // T·∫°o Thumbnail t·ª± ƒë·ªông
                generateThumbnail(fileURL).then(thumbUrl => {
                    item.innerHTML = `
                        <div class="sprocket-holes"></div>
                        <div class="film-thumb" style="background-image: url('${thumbUrl}')"></div>
                        <span>${file.name.substring(0, 15)}...</span>
                    `;
                });

                item.onclick = () => {
                    const player = document.getElementById('cinema-player');
                    player.src = fileURL;
                    player.play();
                    
                    // Hi·ªáu ·ª©ng m·ªü r√®m
                    document.querySelector('.main-screen').classList.add('playing');
                    
                    // Active item
                    document.querySelectorAll('.film-item').forEach(i => i.classList.remove('active'));
                    item.classList.add('active');
                };

                list.appendChild(item);
            });
        }

        // H√†m x·ª≠ l√Ω tr√≠ch xu·∫•t ·∫£nh t·ª´ video
        function generateThumbnail(videoUrl) {
            return new Promise((resolve) => {
                const video = document.createElement('video');
                const canvas = document.createElement('canvas');
                video.src = videoUrl;
                video.currentTime = 1; // L·∫•y khung h√¨nh ·ªü gi√¢y th·ª© 1
                video.muted = true;
                
                video.onloadeddata = () => {
                    // ƒê·ª£i video render khung h√¨nh
                    setTimeout(() => {
                        canvas.width = 160;
                        canvas.height = 90;
                        const ctx = canvas.getContext('2d');
                        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
                        resolve(canvas.toDataURL());
                    }, 500);
                };
            });
        }

        window.addEventListener('load', function() {
        const video = document.getElementById('cinema-player');
        const canvas = document.getElementById('auto-thumb');
        const screen = document.getElementById('theater-screen');

        // Ch·ªù video t·∫£i xong th√¥ng tin ƒë·ªÉ ch·ª•p ·∫£nh
        video.addEventListener('loadeddata', function() {
            // Nh·∫£y ƒë·∫øn gi√¢y th·ª© 2 ƒë·ªÉ l·∫•y c·∫£nh ƒë·∫πp h∆°n l√†m thumb
            video.currentTime = 2;
        });

        video.addEventListener('seeked', function() {
            const ctx = canvas.getContext('2d');
            canvas.width = 300;
            canvas.height = 160;
            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
            // Sau khi ch·ª•p xong, quay v·ªÅ gi√¢y ƒë·∫ßu ƒë·ªÉ ng∆∞·ªùi d√πng xem t·ª´ ƒë·∫ßu
            video.currentTime = 0;
        });
    });

    function playCurrentVideo() {
        const video = document.getElementById('cinema-player');
        const screen = document.getElementById('theater-screen');
        
        // M·ªü r√®m v√† ph√°t video
        screen.classList.add('open');
        video.play();
    }

    const campVideo = document.getElementById('cinema-player');
    const bgMusic = document.getElementById('bg-music'); // ID c·ªßa th·∫ª audio nh·∫°c n·ªÅn

    if (campVideo && bgMusic) {
        // Khi b·∫Øt ƒë·∫ßu ph√°t video
        campVideo.onplay = function() {
            bgMusic.pause();
        };

        // Khi video b·ªã t·∫°m d·ª´ng
        campVideo.onpause = function() {
            bgMusic.play();
        };

        // Khi video k·∫øt th√∫c
        campVideo.onended = function() {
            bgMusic.play();
        };
    }
    function changeMovie(videoSrc, element) {
        const player = document.getElementById('cinema-player');
        const screen = document.getElementById('theater-screen');
        
        // Reset r√®m v·ªÅ tr·∫°ng th√°i ƒë√≥ng tr∆∞·ªõc khi ƒë·ªïi phim (t√πy ch·ªçn)
        screen.classList.remove('open');
        
        // ƒê·ªïi ngu·ªìn video v√† ph√°t
        player.src = videoSrc;
        player.load();
        player.play();
        
        // ƒê√°nh d·∫•u cu·ªôn phim ƒëang ch·ªçn
        document.querySelectorAll('.film-item').forEach(item => item.style.opacity = '0.6');
        element.style.opacity = '1';
    }
    function selectVid(src, el) {
        const player = document.getElementById('cinema-player');
        const screen = document.getElementById('theater-screen');
        
        // ƒê·ªïi ngu·ªìn video
        player.src = src;
        player.play();
        
        // M·ªü r√®m n·∫øu ƒëang ƒë√≥ng
        screen.classList.add('open-curtains');
        
        // Hi·ªáu ·ª©ng ch·ªçn cu·ªôn phim
        document.querySelectorAll('.film-item').forEach(item => item.style.border = 'none');
        el.style.border = '2px solid #e50914';
    }

    function toggleGalleryFromBtn(id, btnEl, event) {
        event.stopPropagation(); // Kh√¥ng cho s·ª± ki·ªán ƒÉn ra ngo√†i th·∫ª to
        const g = document.getElementById(id);
        const isOpening = (g.style.display !== 'grid');
        
        // ƒê√≥ng/M·ªü gallery
        g.style.display = isOpening ? 'grid' : 'none';
        
        // Hi·ªáu ·ª©ng xoay m≈©i t√™n
        if (isOpening) {
            btnEl.classList.add('active');
            // T·ª± ƒë·ªông cu·ªôn xu·ªëng album ·∫£nh cho m∆∞·ª£t
            setTimeout(() => {
                g.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 150);
        } else {
            btnEl.classList.remove('active');
        }
    }
    </script>
</body>
</html>